{% extends "layout.html" %}

{% block title %}{{ this.title }}{% endblock %}

{% block body %}
  <div class="code-guidelines">
    <header class="header">
      <div class="container is-paddingless">
        <h1>{{ this.title }}</h1>
        <div class="description column is-9 is-paddingless">
          {{ this.description }}
        </div>
      </div>
    </header>
    <div class="container code-guidelines-body">
      <div class="columns">
        <div class="column is-one-quarter">
          <div class="row">
            {% if this.is_child_of('/contributing-code') %}
              <aside class="menu sidebar-menu">
                <ul class="menu-list">
                  {% for href, title in [
                    ['/contributing-code/projects', 'Project List'],
                    ['/contributing-code/issue-finder', 'Issue Finder'],
                  ] %}
                    <li>
                    <a class="{% if this.path == {{ href }} %} is-active {% endif%} link" href="{{ href|url }}">{{ title }}</a>
                    </li>
                    <hr class="divider">
                  {% endfor %}
                  <li>
                    <a class="{% if this.path == '/contributing-code' %} is-active {% endif%} link" href="{{ '/contributing-code'|url }}">Contribution Guidelines</a>
                    <ul>
                      {% for href, title in [
                        ['/contributing-code/pr-guidelines', 'Pull Request Guidelines'],
                        ['/contributing-code/github-repo-guidelines', 'GitHub Repo Guidelines'],
                        ['/contributing-code/repo-labels', 'Repository Labels'],
                        ['/contributing-code/python-guidelines', 'Python Guidelines'],
                        ['/contributing-code/translation-guide', 'Translation Guide'],
                      ] %}
                        <li><a class="{% if this.path == {{ href }} %} is-active {% endif%} link" href="{{ href|url }}"><i class="icon circle-filled"></i>{{ title }}</a></li>
                      {% endfor %}
                    </ul>
                  </li>
                  <hr class="divider">
                  <li>
                    <a class="{% if this.path == '/contributing-code/usability' %} is-active {% endif%} link" href="{{ '/contributing-code/usability'|url }}">Usability</a>
                  </li>
                </ul>
              </aside>
            {% elif this.is_child_of('/community') %}
              <aside class="menu sidebar-menu">
                <ul class="menu-list">
                  <li>
                    <a class="{% if this._path == '/community' %} is-active {% endif%} link" href="{{ '/community'|url }}">Join the Community</a>
                  </li>
                  <hr class="divider">
                  <li>
                    <a class="{% if this._path == '/community/community-team' %} is-active {% endif%} link" href="{{ '/community/community-team'|url }}">Community Team</a>
                    <ul>
                      {% for href, title in [
                        ['/community/community-team/members', 'Community Team Members'],
                        ['/community/community-team/project-roles', 'Project Roles'],
                        ['/community/community-team/community-building-roles', 'Community Building Roles'],
                        ['/community/community-team/engagement-channels', 'Engagement Channels'],
                      ] %}
                        <li><a class="{% if this.path == {{ href }} %} is-active {% endif%} link" href="{{ href|url }}"><i class="icon circle-filled"></i>{{ title }}</a></li>
                      {% endfor %}
                    </ul>
                  </li>
                  <hr class="divider">
                  <li>
                    <a class="{% if this._path == '/community/write-a-blog-post' %} is-active {% endif%} link" href="{{ '/community/write-a-blog-post'|url }}">Write a Blog Post</a>
                  </li>
                  <hr class="divider">
                  <li>
                    <a class="{% if this._path == '/community/code-of-conduct' %} is-active {% endif%} link" href="{{ '/community/code-of-conduct'|url }}">Code of Conduct</a>
                    <ul>
                      <li><a class="{% if this._path == '/community/code-of-conduct/enforcement' %} is-active {% endif%} link" href="{{ '/community/code-of-conduct/enforcement'|url }}"><i class="icon circle-filled"></i>Code of Conduct Enforcement</a></li>
                    </ul>
                  </li>
                </ul>
              </aside>
            {% elif this.is_child_of('/internships') %}
              <aside class="menu sidebar-menu">
                <ul class="menu-list">
                  <li>
                    <a class="{% if this._path == '/internships' %} is-active {% endif%} link" href="{{ '/internships'|url }}">Overview</a>
                    <ul>
                      {% for href, title in [
                        ['/internships/applicant-guide', 'Applicant Guide'],
                        ['/internships/intern-guide', 'Intern Guide'],
                        ['/internships/mentor-guide', 'Mentor Guide'],
                      ] %}
                        <li><a class="{% if this.path == {{ href }} %} is-active {% endif%} link" href="{{ href|url }}"><i class="icon circle-filled"></i>{{ title }}</a></li>
                      {% endfor %}
                    </ul>
                  {% for href, title in [
                    ['/internships/project-ideas', 'Project Ideas'],
                    ['/internships/history', 'History'],
                  ] %}
                    <hr class="divider">
                    <li>
                    <a class="{% if this.path == {{ href }} %} is-active {% endif%} link" href="{{ href|url }}">{{ title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              </aside>
            {% endif %}
          </div>
          <div class="row padding-bottom-normal sticky-top">
            <h4 class="b-header">On this page</h4>
            <aside class="menu table-of-contents">
              <ul class="menu-list">
                {% for item in this.body.toc %}
                  <li>
                    <a class="link" href="#{{ item.anchor }}">{{ item.title }}</a>
                    {% if item.children and not this.is_long_page %}
                      <ul>
                        {% for subitem in item.children %}
                          <li><a class="link" href="#{{ subitem.anchor }}"><i class="icon circle-filled"></i>{{ subitem.title }}</a></li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            </aside>
          </div>
        </div>
        <div class="column content is-three-quarters">
          {{ this.body }}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
